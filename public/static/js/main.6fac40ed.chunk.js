(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{12:function(e,t,n){},30:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n.n(i),r=n(25),a=n.n(r),c=(n(30),n(2)),s=n(4),l=(n(12),n(0)),d={formContainer:{marginTop:"20px",backgroundColor:"#f8f8f8",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},formGroup:{marginBottom:"15px"},label:{display:"block",fontSize:"16px",color:"#333",marginBottom:"5px"},input:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #ccc"},button:{width:"100%",padding:"10px",fontSize:"16px",fontWeight:"bold",color:"#fff",backgroundColor:"#007bff",borderRadius:"4px",border:"none",cursor:"pointer"},errorList:{color:"red",marginTop:"10px",textAlign:"left",paddingLeft:"20px"}};function p(e){var t=e.onLogin,n=Object(i.useState)(""),o=Object(c.a)(n,2),r=o[0],a=o[1],s=Object(i.useState)(""),p=Object(c.a)(s,2),u=p[0],b=p[1],j=Object(i.useState)(""),h=Object(c.a)(j,2),x=h[0],f=h[1],m=Object(i.useState)([]),O=Object(c.a)(m,2),g=O[0],y=O[1];return Object(l.jsxs)("div",{style:d.formContainer,children:[Object(l.jsxs)("form",{className:"styled-form",onSubmit:function(e){e.preventDefault(),fetch("/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:u,password_confirmation:x})}).then((function(e){e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return y(e.errors)}))}))},children:[Object(l.jsx)("h2",{children:"Signup Here"}),Object(l.jsxs)("div",{style:d.formGroup,children:[Object(l.jsx)("label",{htmlFor:"signupUsername",style:d.label,children:"Username:"}),Object(l.jsx)("input",{type:"text",id:"signupUsername",autoComplete:"on",value:r,onChange:function(e){return a(e.target.value)},style:d.input})]}),Object(l.jsxs)("div",{style:d.formGroup,children:[Object(l.jsx)("label",{htmlFor:"signupPassword",style:d.label,children:"Password:"}),Object(l.jsx)("input",{type:"password",id:"signupPassword",autoComplete:"on",value:u,onChange:function(e){return b(e.target.value)},style:d.input})]}),Object(l.jsxs)("div",{style:d.formGroup,children:[Object(l.jsx)("label",{htmlFor:"password_confirmation",style:d.label,children:"Confirm Password:"}),Object(l.jsx)("input",{type:"password",id:"password_confirmation",autoComplete:"on",value:x,onChange:function(e){return f(e.target.value)},style:d.input})]}),Object(l.jsx)("button",{type:"submit",style:d.button,children:"Submit"})]}),g.length>0&&Object(l.jsx)("ul",{style:d.errorList,children:g.map((function(e){return Object(l.jsx)("li",{children:e},e)}))})]})}var u={formContainer:{marginTop:"20px",backgroundColor:"#f8f8f8",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},formGroup:{marginBottom:"15px"},label:{display:"block",fontSize:"16px",color:"#333",marginBottom:"5px"},input:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #ccc"},button:{width:"100%",padding:"10px",fontSize:"16px",fontWeight:"bold",color:"#fff",backgroundColor:"#007bff",borderRadius:"4px",border:"none",cursor:"pointer"}};function b(e){var t=e.onLogin,n=Object(i.useState)(""),o=Object(c.a)(n,2),r=o[0],a=o[1],s=Object(i.useState)(""),d=Object(c.a)(s,2),p=d[0],b=d[1],j=Object(i.useState)([]),h=Object(c.a)(j,2),x=h[0],f=h[1];return Object(l.jsxs)("div",{style:u.formContainer,children:[Object(l.jsxs)("form",{className:"styled-form",onSubmit:function(e){e.preventDefault(),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:p})}).then((function(e){e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return f([e.error])}))}))},children:[Object(l.jsx)("h2",{children:"User Login"}),Object(l.jsxs)("div",{style:u.formGroup,children:[Object(l.jsx)("label",{htmlFor:"username",style:u.label,children:"Username:"}),Object(l.jsx)("input",{autoComplete:"on",type:"text",id:"username",value:r,onChange:function(e){return a(e.target.value)},style:u.input})]}),Object(l.jsxs)("div",{style:u.formGroup,children:[Object(l.jsx)("label",{htmlFor:"password",style:u.label,children:"Password:"}),Object(l.jsx)("input",{type:"password",id:"password",autoComplete:"on",value:p,onChange:function(e){return b(e.target.value)},style:u.input})]}),Object(l.jsx)("button",{type:"submit",style:u.button,children:"Submit"})]}),x.length>0&&Object(l.jsx)("ul",{style:u.errorList,children:x.map((function(e){return Object(l.jsx)("li",{children:e},e)}))})]})}var j=n(10);function h(){return Object(l.jsxs)("div",{className:"navigation",children:[Object(l.jsx)(j.b,{to:"/",className:"navButtons",children:"Home"}),Object(l.jsx)(j.b,{to:"/petsitter",className:"navButtons",children:"Petsitter Account"}),Object(l.jsx)(j.b,{to:"/client",className:"navButtons",children:"Client Account"}),Object(l.jsx)(j.b,{to:"/petsitters",className:"navButtons",children:"View Pet Sitters"}),Object(l.jsx)(j.b,{to:"/conversations",className:"navButtons",children:"Messages"})]})}var x={fontFamily:"Helvetica, sans-serif",maxWidth:"600px",margin:"0 auto",paddingBottom:"40px",paddingLeft:"40px",paddingRight:"40px",backgroundColor:"#f2f2f2",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",textAlign:"center"},f={fontSize:"28px",marginBottom:"20px",color:"#333"},m={fontSize:"16px",lineHeight:"1.6",color:"#666",marginBottom:"16px"};function O(e){var t=e.user;return Object(l.jsxs)("div",{style:x,children:[Object(l.jsxs)("h1",{style:f,children:["Welcome, ",t.username,"!"]}),Object(l.jsx)("p",{style:m,children:"We're thrilled to have you here and embark on a journey of connecting pet sitters to loving clients in the heart of New York City. Whether you're a seasoned pet sitter or a caring pet owner, NYCPetSitters is the perfect platform for you."}),Object(l.jsx)("p",{style:m,children:"Our mission is to connect independent animal caretakers with clients in need of support. Our pet sitters range from locals who do this professionaly, to out-of-towners who like to trade their pet sitting services for a stay in the big apple!"}),Object(l.jsx)("p",{style:m,children:"Explore our community of experienced pet sitters who are eager to shower your pets with love and attention. For pet sitters, this is an excellent opportunity to connect with caring clients who share the same passion for animals."}),Object(l.jsx)("p",{style:m,children:'Wagging tails and happy purrs await you! Visit the "Petsitter Page" to set up your petsitter account, or visit the "Client Page" to set up your client account. All active petsitters can be viewed on the "View Pet Sitters" page. If registered as a client, a Pet Sit Request form will be available for each pet sitter.'})]})}var g={formContainer:{marginTop:"20px",backgroundColor:"#f8f8f8",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},formGroup:{marginBottom:"15px"},label:{display:"block",fontSize:"16px",color:"#333",marginBottom:"5px"},input:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #ccc"},select:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"#fff"},button:{width:"100%",padding:"10px",fontSize:"16px",fontWeight:"bold",color:"#fff",backgroundColor:"#007bff",borderRadius:"4px",border:"none",cursor:"pointer"},errorList:{color:"red",marginTop:"10px",textAlign:"left",paddingLeft:"20px"}};function y(e){var t=e.newRequestFromClientPage,n=e.petSitter,o=e.user,r=e.updateDisplayForm,a=Object(i.useState)(""),s=Object(c.a)(a,2),d=s[0],p=s[1],u=Object(i.useState)(""),b=Object(c.a)(u,2),j=b[0],h=b[1],x=Object(i.useState)(""),f=Object(c.a)(x,2),m=f[0],O=f[1],y=Object(i.useState)(!0),v=Object(c.a)(y,2),S=v[0],C=v[1],_=Object(i.useState)(!0),w=Object(c.a)(_,2),P=w[0],R=w[1],A=Object(i.useState)([]),F=Object(c.a)(A,2),k=F[0],T=F[1];return o.client?Object(l.jsxs)("div",{style:g.formContainer,children:[Object(l.jsx)("h2",{children:"Pet Sit Request Form:"}),Object(l.jsxs)("form",{className:"custom-form",onSubmit:function(e){e.preventDefault(),fetch("/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({appointment:{appointment_information:d,start_date:j,end_date:m,boarding:S,in_house:P,petsitter_id:n.id,client_id:o.client.id}})}).then((function(e){e.ok?e.json().then((function(e){window.alert("Appointment was requested!"),p(""),C(!0),R(!0),h(""),O(""),T([]),r(),console.log(e),t&&t(e)})):e.json().then((function(e){console.log(e),T(e.errors)}))}))},children:[Object(l.jsxs)("div",{style:g.formGroup,children:[Object(l.jsx)("label",{htmlFor:"appointment_information",style:g.label,children:"Appointment Information:"}),Object(l.jsx)("textarea",{type:"text",className:"custom-input",value:d,onChange:function(e){return p(e.target.value)},style:g.input})]}),Object(l.jsxs)("div",{style:g.formGroup,children:[Object(l.jsx)("label",{htmlFor:"start_date",style:g.label,children:"Start Date:"}),Object(l.jsx)("input",{type:"date",className:"custom-input",value:j,onChange:function(e){return h(e.target.value)},style:g.input})]}),Object(l.jsxs)("div",{style:g.formGroup,children:[Object(l.jsx)("label",{htmlFor:"end_date",style:g.label,children:"End Date:"}),Object(l.jsx)("input",{type:"date",className:"custom-input",value:m,onChange:function(e){return O(e.target.value)},style:g.input})]}),Object(l.jsxs)("div",{style:g.formGroup,children:[Object(l.jsx)("label",{htmlFor:"housesit",style:g.label,children:"Interested in house sitting:"}),Object(l.jsxs)("select",{onChange:function(e){"Yes"===e.target?R(!0):R(!1)},className:"custom-select",style:g.select,children:[Object(l.jsx)("option",{value:"Yes",children:"Yes"}),Object(l.jsx)("option",{value:"No",children:"No"})]})]}),Object(l.jsxs)("div",{style:g.formGroup,children:[Object(l.jsx)("label",{htmlFor:"boarding",style:g.label,children:"Interested in boarding:"}),Object(l.jsxs)("select",{onChange:function(e){"Yes"===e.target?C(!0):C(!1)},className:"custom-select",style:g.select,children:[Object(l.jsx)("option",{value:"Yes",children:"Yes"}),Object(l.jsx)("option",{value:"No",children:"No"})]})]}),Object(l.jsx)("button",{style:g.button,children:"Request a pet-sit"})]}),k.length>0&&Object(l.jsx)("ul",{style:g.errorList,children:k.map((function(e){return Object(l.jsx)("li",{children:e},e)}))})]}):Object(l.jsx)("div",{id:"emptyAppointmentFormDiv",children:Object(l.jsx)("h4",{children:"You must be signed up as a client to request an appointment with this pet sitter!"})})}var v={formContainer:{marginTop:"20px",backgroundColor:"#f8f8f8",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},formGroup:{marginBottom:"15px"},label:{display:"block",fontSize:"16px",color:"#333",marginBottom:"5px"},input:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #ccc"},select:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"#fff"},button:{width:"100%",padding:"10px",fontSize:"16px",fontWeight:"bold",color:"#fff",backgroundColor:"#007bff",borderRadius:"4px",border:"none",cursor:"pointer"},errorList:{color:"red",marginTop:"10px",textAlign:"left",paddingLeft:"20px"}};function S(e){var t=e.user,n=e.petSitter,o=Object(i.useState)(""),r=Object(c.a)(o,2),a=r[0],d=r[1],p=Object(s.n)();return Object(l.jsxs)("div",{style:v.formContainer,children:[Object(l.jsx)("h2",{children:"Start a conversation:"}),Object(l.jsxs)("form",{className:"custom-form",onSubmit:function(e){e.preventDefault(),null!==t.client&&fetch("/conversations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:t.client.id,petsitter_id:n.id,conversation_title:a})}).then((function(e){return e.json()})).then((function(e){var i="Automated message: ".concat(t.username," just started a conversation.");fetch("/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.id,conversation_id:e.id,body:i})}).then((function(e){return e.json()})).then((function(){var i="Automated message: ".concat(t.username," just added petsitter ").concat(n.full_name," to a conversation.");fetch("/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:n.user_id,conversation_id:e.id,body:i})}).then((function(e){return e.json()})).then((function(){return p("/conversations")}))}))}))},children:[Object(l.jsxs)("div",{style:v.formGroup,children:[Object(l.jsx)("label",{htmlFor:"housesit",style:v.label,children:"Conversation Title:"}),Object(l.jsx)("input",{onChange:function(e){return d(e.target.value)},className:"conversationTitle",style:v.input,placeholder:"example: June pet-sit"})]}),Object(l.jsx)("button",{style:v.button,children:"Start a conversation"})]})]})}var C={petSitterCard:{backgroundColor:"#f8f8f8",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",maxWidth:"400px",margin:"10px auto",textAlign:"center"},imageWrapper:{width:"150px",height:"150px",margin:"0 auto 20px",borderRadius:"50%",overflow:"hidden",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"},heading:{fontSize:"24px",margin:"0",color:"#333"},subheading:{fontSize:"18px",margin:"10px 0",color:"#666"},info:{fontSize:"16px",color:"#666",margin:"10px 0"}};function _(e){var t=e.newRequestFromClientPage,n=e.petSitter,o=e.user,r=Object(i.useState)(!1),a=Object(c.a)(r,2),s=a[0],d=a[1],p=Object(i.useState)("Contact / Request Pet Sit"),u=Object(c.a)(p,2),b=u[0],j=u[1],h=Object(i.useRef)(null);return Object(l.jsxs)("div",{className:"petSitterCardDiv",style:C.petSitterCard,children:[Object(l.jsx)("div",{style:C.imageWrapper,children:Object(l.jsx)("img",{src:n.photo,alt:"the petsitter",style:C.image})}),Object(l.jsx)("h3",{style:C.heading,children:n.full_name}),Object(l.jsx)("h4",{style:C.subheading,children:"Location:"}),Object(l.jsxs)("p",{style:C.info,children:["I am based in ",n.city]}),Object(l.jsx)("h4",{style:C.subheading,children:"About me:"}),Object(l.jsx)("p",{style:C.info,children:n.bio}),Object(l.jsx)("h4",{style:C.subheading,children:"My ideal pet sit:"}),Object(l.jsx)("p",{style:C.info,children:n.my_ideal_pet_sit}),Object(l.jsx)("h4",{style:C.subheading,children:"What do I charge?"}),Object(l.jsxs)("p",{style:C.info,children:["My rate is currently $",n.day_rate]}),o.client&&Object(l.jsxs)("div",{children:[Object(l.jsx)("button",{onClick:function(){!1===s?(d(!0),j("Close forms"),function(){var e;null===h||void 0===h||null===(e=h.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}()):(d(!1),j("Contact / Request Pet Sit"))},value:b,children:b}),!0===s&&Object(l.jsxs)("div",{children:[Object(l.jsx)(S,{user:o,petSitter:n}),Object(l.jsx)(y,{newRequestFromClientPage:t,updateDisplayForm:function(){d(!1)},user:o,petSitter:n})]})]}),Object(l.jsx)("div",{ref:h})]})}var w={textAlign:"center",fontFamily:"Arial, Helvetica, sans-serif",color:"#9e9e9e",width:"100%",fontSize:"36px",lineHeight:"1.2"};function P(e){var t=e.user,n=Object(i.useState)(null),o=Object(c.a)(n,2),r=o[0],a=o[1];return Object(i.useEffect)((function(){fetch("/petsitters").then((function(e){return e.json()})).then((function(e){var n=e.filter((function(e){return e.user_id!==t.id&&!0===e.currently_available}));a(n)}))}),[t.id]),r?Object(l.jsxs)("div",{id:"petSittersPageDiv",children:[null===t.client&&Object(l.jsx)("h3",{style:{textAlign:"center"},children:"Sign up as a client to interact with other pet sitters."}),r.map((function(e){return Object(l.jsx)(_,{user:t,petSitter:e},e.id)}))]}):Object(l.jsx)("h1",{style:w,children:"... No pet sitters loaded yet ..."})}var R={formContainer:{marginTop:"20px",backgroundColor:"#f8f8f8",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},formGroup:{marginBottom:"15px"},label:{display:"block",fontSize:"16px",color:"#333",marginBottom:"5px"},input:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #ccc"},button:{width:"100%",padding:"10px",fontSize:"16px",fontWeight:"bold",color:"#fff",backgroundColor:"#007bff",borderRadius:"4px",border:"none",cursor:"pointer"}};function A(e){var t=e.updatePetSitter,n=e.petSitter,o=e.changeFormView,r=Object(i.useState)(n.bio),a=Object(c.a)(r,2),s=a[0],d=a[1],p=Object(i.useState)(n.city),u=Object(c.a)(p,2),b=u[0],j=u[1],h=Object(i.useState)(n.photo),x=Object(c.a)(h,2),f=x[0],m=x[1],O=Object(i.useState)(n.day_rate),g=Object(c.a)(O,2),y=g[0],v=g[1],S=Object(i.useState)(n.full_name),C=Object(c.a)(S,2),_=C[0],w=C[1],P=Object(i.useState)(n.my_ideal_pet_sit),A=Object(c.a)(P,2),F=A[0],k=A[1];return Object(l.jsx)("div",{style:R.formContainer,children:Object(l.jsxs)("form",{className:"styled-form",onSubmit:function(e){e.preventDefault(),fetch("/petsitters/".concat(n.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({bio:s,city:b,photo:f,day_rate:y,full_name:_,my_ideal_pet_sit:F})}).then((function(e){return e.json()})).then((function(e){o(),t(e)}))},children:[Object(l.jsx)("h2",{children:"Update Pet Sitter account"}),Object(l.jsxs)("div",{style:R.formGroup,children:[Object(l.jsx)("label",{htmlFor:"name",style:R.label,children:"Your Full Name:"}),Object(l.jsx)("input",{type:"text",id:"bio",value:_,onChange:function(e){return w(e.target.value)},style:R.input})]}),Object(l.jsxs)("div",{style:R.formGroup,children:[Object(l.jsx)("label",{htmlFor:"name",style:R.label,children:"Bio:"}),Object(l.jsx)("textarea",{type:"text",id:"bio",value:s,onChange:function(e){return d(e.target.value)},style:R.input})]}),Object(l.jsxs)("div",{style:R.formGroup,children:[Object(l.jsx)("label",{htmlFor:"name",style:R.label,children:"My Ideal Pet Sit:"}),Object(l.jsx)("textarea",{type:"text",id:"bio",value:F,onChange:function(e){return k(e.target.value)},style:R.input})]}),Object(l.jsxs)("div",{style:R.formGroup,children:[Object(l.jsx)("label",{htmlFor:"city",style:R.label,children:"City:"}),Object(l.jsx)("input",{type:"text",id:"city",value:b,onChange:function(e){return j(e.target.value)},style:R.input})]}),Object(l.jsxs)("div",{style:R.formGroup,children:[Object(l.jsx)("label",{htmlFor:"photo",style:R.label,children:"Photo Url:"}),Object(l.jsx)("input",{type:"text",id:"photo",value:f,onChange:function(e){return m(e.target.value)},style:R.input})]}),Object(l.jsxs)("div",{style:R.formGroup,children:[Object(l.jsx)("label",{htmlFor:"dayRate",style:R.label,children:"Day Rate:"}),Object(l.jsx)("input",{type:"text",id:"dayRate",value:y,onChange:function(e){return v(e.target.value)},style:R.input})]}),Object(l.jsx)("button",{type:"submit",children:"Update Account"})]})})}var F={petSitterProfile:{backgroundColor:"#f8f8f8",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",maxWidth:"400px",margin:"0 auto",textAlign:"center"},imageWrapper:{width:"150px",height:"150px",margin:"0 auto 20px",borderRadius:"50%",overflow:"hidden",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"},heading:{fontSize:"24px",margin:"0",color:"#333"},info:{fontSize:"16px",color:"#666",margin:"10px 0"},button:{width:"100%",padding:"10px",fontSize:"16px",fontWeight:"bold",color:"#fff",backgroundColor:"#007bff",borderRadius:"4px",border:"none",cursor:"pointer"}};function k(e){var t=e.petSitter,n=e.updatePetSitter,o=Object(i.useState)(!1),r=Object(c.a)(o,2),a=r[0],s=r[1],d=Object(i.useState)(t.currently_available),p=Object(c.a)(d,2),u=p[0],b=p[1],j=Object(i.useState)("Update Account"),h=Object(c.a)(j,2),x=h[0],f=h[1];function m(){s(!a),f("Update Account"===x?"Close Update Form":"Update Account")}function O(e){var i=!u;fetch("/petsitters/".concat(t.id,"/availability"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({currently_available:i})}).then((function(e){return e.json()})).then((function(e){b(i),console.log(e),n(e)}))}return Object(l.jsxs)("div",{id:"petSitterProfile",style:F.petSitterProfile,children:[Object(l.jsx)("div",{style:F.imageWrapper,children:Object(l.jsx)("img",{src:t.photo,alt:"the petsitter",style:F.image})}),Object(l.jsx)("h2",{style:F.heading,children:"Your pet sitting account:"}),Object(l.jsxs)("p",{style:F.info,children:[Object(l.jsx)("b",{children:"Name:"})," Hi, I am ",t.full_name,"."]}),Object(l.jsxs)("p",{style:F.info,children:[Object(l.jsx)("b",{children:"City:"})," I am located in ",t.city]}),Object(l.jsxs)("p",{style:F.info,children:[Object(l.jsx)("b",{children:"Day Rate:"})," $",t.day_rate," a day."]}),Object(l.jsxs)("p",{style:F.info,children:[Object(l.jsx)("b",{children:"Bio:"})," ",t.bio]}),Object(l.jsxs)("p",{style:F.info,children:[Object(l.jsx)("b",{children:"My Ideal Pet Sit:"})," ",t.my_ideal_pet_sit]}),Object(l.jsx)("button",{onClick:function(){return m()},children:x}),!0===a&&Object(l.jsx)("div",{children:Object(l.jsx)(A,{changeFormView:m,updatePetSitter:n,petSitter:t})}),!0===u&&Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"You are currently listed as available on the pet sitters page! Update below to change availability."}),Object(l.jsx)("button",{onClick:O,children:"Become unavailable"})]}),!1===u&&Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"You are currently unavailable and not listed on the petsitters page. Update below to change availability."}),Object(l.jsx)("button",{onClick:O,children:"Become available"})]})]})}var T=n(6),N=n(8),B={formContainer:{backgroundColor:"#FFF3D0",padding:"20px"},formGroup:{marginBottom:"15px"},label:{display:"block",fontSize:"16px",color:"#333",marginBottom:"5px"},input:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #ccc"},button:{width:"100%",padding:"10px",fontSize:"16px",fontWeight:"bold",color:"#fff",backgroundColor:"#007bff",borderRadius:"4px",border:"none",cursor:"pointer"},errorList:{color:"red",marginTop:"10px",textAlign:"left",paddingLeft:"20px"}};function z(e){var t=e.deleteAppointmentRequest,n=e.appointment,o=e.updatePendingAppointments,r=Object(i.useState)(n.appointment_information),a=Object(c.a)(r,2),s=a[0],d=a[1],p=Object(i.useState)(n.start_date),u=Object(c.a)(p,2),b=u[0],j=u[1],h=Object(i.useState)(n.end_date),x=Object(c.a)(h,2),f=x[0],m=x[1],O=Object(i.useState)([]),g=Object(c.a)(O,2),y=g[0],v=g[1],S=Object(i.useState)(!1),C=Object(c.a)(S,2),_=C[0],w=C[1],P=Object(i.useState)("Update Request"),R=Object(c.a)(P,2),A=R[0],F=R[1];function k(){!0===_?(w(!1),F("Update Request")):(w(!0),F("Close Update Form"))}return Object(l.jsxs)("div",{style:B.formContainer,children:[Object(l.jsx)("button",{value:A,className:"acceptButton",onClick:k,children:A}),!0===_&&Object(l.jsxs)("div",{style:B.formContainer,children:[Object(l.jsxs)("form",{className:"styled-form",onSubmit:function(e){e.preventDefault(),fetch("/appointments/".concat(n.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({appointment_information:s,start_date:b,end_date:f})}).then((function(e){e.ok?e.json().then((function(e){k(),console.log(e),o(e),d(e.appointment_information),j(e.start_date),m(e.end_date)})):e.json().then((function(e){console.log(e),v(e.errors)}))}))},children:[Object(l.jsx)("h2",{children:"Pet Sit Request Form"}),Object(l.jsxs)("div",{style:B.formGroup,children:[Object(l.jsx)("label",{style:B.label,htmlFor:"appointment_information",children:"Appointment Information:"}),Object(l.jsx)("textarea",{style:B.input,type:"text",id:"appointment_information",value:s,onChange:function(e){return d(e.target.value)}})]}),Object(l.jsxs)("div",{style:B.formGroup,children:[Object(l.jsx)("label",{style:B.label,htmlFor:"start_date",children:"Start Date:"}),Object(l.jsx)("input",{style:B.input,type:"date",id:"start_date",value:b,onChange:function(e){return j(e.target.value)}})]}),Object(l.jsxs)("div",{style:B.formGroup,children:[Object(l.jsx)("label",{style:B.label,htmlFor:"end_date",children:"End Date:"}),Object(l.jsx)("input",{style:B.input,type:"date",id:"end_date",value:f,onChange:function(e){return m(e.target.value)}})]}),Object(l.jsx)("button",{type:"submit",children:"Update Request"})]}),y.length>0&&Object(l.jsx)("ul",{style:B.errorList,children:y.map((function(e){return Object(l.jsx)("li",{children:e},e)}))})]}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{onClick:function(){fetch("/appointments/".concat(n.id),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return t(n.id,e)}))},className:"declineButton",value:"Cancelled",children:"Cancel Pet Sit Request"})]})}var D={petSitterProfile:{backgroundColor:"#FFF3D0",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",maxWidth:"400px",margin:"0 auto",textAlign:"center"},imageWrapper:{width:"150px",height:"150px",margin:"0 auto 20px",borderRadius:"50%",overflow:"hidden",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"},heading:{fontSize:"24px",margin:"0",color:"#333"},subheading:{fontSize:"18px",margin:"10px 0",color:"#666"},cancelButton:{padding:"8px 16px",fontSize:"16px",fontWeight:"bold",color:"#fff",backgroundColor:"red",borderRadius:"4px",border:"none",cursor:"pointer"},acceptButton:{padding:"8px 16px",fontSize:"16px",fontWeight:"bold",color:"#fff",backgroundColor:"green",borderRadius:"4px",border:"none",cursor:"pointer",marginLeft:"10px"}};function W(e){var t=e.deleteAppointmentRequest,n=e.appointment,i=e.updatePendingAppointments;function o(e,t){var i=new Date(e),o=new Date(t)-i;return Math.floor(o/864e5)*n.petsitter.day_rate}return e.user.id===n.petsitter.user_id?Object(l.jsxs)("div",{id:"petSitterProfile",style:D.petSitterProfile,children:[Object(l.jsx)("div",{style:D.imageWrapper,children:Object(l.jsx)("img",{height:"150",width:"150",src:n.client.photo,style:D.image,alt:"the pet of the appointment"})}),Object(l.jsx)("h2",{children:"Pending Request:"}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Client Name:"})," ",n.client.full_name]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Total Price:"})," $",o(n.start_date,n.end_date)]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Start Date:"})," ",n.start_date]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"End Date:"})," ",n.end_date]}),!0===n.boarding&&Object(l.jsx)("p",{children:Object(l.jsx)("b",{children:"Open to boarding at petsitters place"})}),!0===n.in_house&&Object(l.jsx)("p",{children:Object(l.jsx)("b",{children:"Open to house-sitting at clients place"})}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Appointment Information:"})," ",n.appointment_information]}),Object(l.jsx)("button",{onClick:function(){fetch("/appointments/".concat(n.id,"/accepted")).then((function(e){return e.json()})).then((function(e){return i(e)}))},className:"acceptButton",value:"Accepted",children:"Accept Pet Sit"}),Object(l.jsx)("button",{onClick:function(){fetch("/appointments/".concat(n.id,"/declined")).then((function(e){return e.json()})).then((function(e){return i(e)}))},className:"declineButton",value:"Declined",children:"Decline Pet Sit"})]}):Object(l.jsxs)("div",{id:"petSitterProfile",style:D.petSitterProfile,children:[Object(l.jsx)("div",{style:D.imageWrapper,children:Object(l.jsx)("img",{height:"150",width:"150",src:n.petsitter.photo,style:D.image,alt:"the petsitter"})}),Object(l.jsx)("h2",{children:"Pending Pet Sit Request:"}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Pet Sitter Requested:"})," ",n.petsitter.full_name]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Total Price:"})," $",o(n.start_date,n.end_date)]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Start Date:"})," ",n.start_date]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"End Date:"})," ",n.end_date]}),Object(l.jsxs)("p",{children:[Object(l.jsx)("b",{children:"Appointment Information:"})," ",n.appointment_information]}),Object(l.jsx)(z,{deleteAppointmentRequest:t,appointment:n,updatePendingAppointments:i})]})}var G={activeAppointmentDiv:{backgroundColor:"#C8E6C9",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",maxWidth:"400px",margin:"0 auto",textAlign:"center"},imageWrapper:{width:"150px",height:"150px",margin:"0 auto 20px",borderRadius:"50%",overflow:"hidden",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"},heading:{fontSize:"24px",margin:"0",color:"#333"},subheading:{fontSize:"18px",margin:"10px 0",color:"#666"},cancelButton:{padding:"8px 16px",fontSize:"16px",fontWeight:"bold",color:"#fff",backgroundColor:"red",borderRadius:"4px",border:"none",cursor:"pointer"}};function I(e){var t=e.appointment,n=e.updateActiveAppointments;function i(){fetch("/appointments/".concat(t.id,"/canceled")).then((function(e){return e.json()})).then((function(e){console.log(e),n(e)}))}function o(e,n){var i=new Date(e),o=new Date(n)-i;return Math.floor(o/864e5)*t.petsitter.day_rate}var r=e.user.id===t.petsitter.user_id;return console.log(r),console.log(t),r?Object(l.jsxs)("div",{style:G.activeAppointmentDiv,children:[Object(l.jsx)("div",{style:G.imageWrapper,children:Object(l.jsx)("img",{height:"150",width:"150",src:t.client.photo,style:G.image,alt:"Client's Pet"})}),Object(l.jsx)("h2",{style:G.heading,children:"Accepted Appointment:"}),Object(l.jsxs)("p",{style:G.subheading,children:["Client Name: ",t.client.full_name]}),Object(l.jsxs)("p",{style:G.subheading,children:["Total Price: $",o(t.start_date,t.end_date)]}),Object(l.jsxs)("p",{style:G.subheading,children:["Start Date: ",t.start_date]}),Object(l.jsxs)("p",{style:G.subheading,children:["End Date: ",t.end_date]}),Object(l.jsxs)("p",{style:G.subheading,children:["Pet Information: ",t.client.pet_information]}),Object(l.jsxs)("p",{style:G.subheading,children:["Appointment Information: ",t.appointment_information]}),Object(l.jsx)("button",{onClick:i,className:"declineButton",children:"Cancel Pet Sit"})]}):Object(l.jsxs)("div",{style:G.activeAppointmentDiv,children:[Object(l.jsx)("div",{style:G.imageWrapper,children:Object(l.jsx)("img",{height:"150",width:"150",src:t.petsitter.photo,alt:"Petsitter",style:G.image})}),Object(l.jsx)("h2",{style:G.heading,children:"Accepted Appointment:"}),Object(l.jsxs)("p",{style:G.subheading,children:["Pet Sitter Name: ",t.petsitter.full_name]}),Object(l.jsxs)("p",{style:G.subheading,children:["Total Price: $",o(t.start_date,t.end_date)]}),Object(l.jsxs)("p",{style:G.subheading,children:["Start Date: ",t.start_date]}),Object(l.jsxs)("p",{style:G.subheading,children:["End Date: ",t.end_date]}),Object(l.jsxs)("p",{style:G.subheading,children:["Pet Information: ",t.client.pet_information]}),Object(l.jsx)("button",{onClick:i,className:"declineButton",children:"Cancel Pet Sit"})]})}var U={paddingTop:"20px",textAlign:"center",fontFamily:"Arial, Helvetica, sans-serif",color:"#9e9e9e",width:"100%",fontSize:"36px",lineHeight:"1.2"};function L(e){var t=e.petSitter,n=e.user,o=Object(i.useState)([]),r=Object(c.a)(o,2),a=r[0],s=r[1],d=Object(i.useState)([]),p=Object(c.a)(d,2),u=p[0],b=p[1],j=Object(i.useState)([]),h=Object(c.a)(j,2),x=h[0],f=h[1];function m(e){var t=u.filter((function(t){return!0!==t.declined&&t.id!==e.id}));b(t);var n=a.map((function(t){return t.id===e.id?Object(N.a)(Object(N.a)({},t),e):t}));if(s(n),!0===e.accepted){var i=[].concat(Object(T.a)(x),[e]);f(i)}}function O(e){var t=x.filter((function(t){return t.id!==e.id}));f(t);var n=a.map((function(t){return t.id===e.id?Object(N.a)(Object(N.a)({},t),e):t}));s(n)}return Object(i.useEffect)((function(){fetch("/appointments").then((function(e){e.ok&&e.json().then((function(e){s(e);var n=e.filter((function(e){return e.petsitter_id===t.id&&!0!==e.accepted&&!0!==e.declined&&!0!==e.canceled}));b(n);var i=e.filter((function(e){return e.petsitter_id===t.id&&!0===e.accepted&&!0!==e.completed&&!0!==e.canceled}));f(i)}))}))}),[t,n]),u.length>0||x.length>0?Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{style:U,children:"Active Appointments / Requests:"}),x.map((function(e){return Object(l.jsx)(I,{user:n,petSitter:t,updateActiveAppointments:O,appointment:e},e.id)})),u.map((function(e){return Object(l.jsx)(W,{user:n,petSitter:t,updatePendingAppointments:m,appointment:e},e.id)}))]}):Object(l.jsx)("div",{style:U,children:"No pending requests / active pet sits"})}var q={formContainer:{marginTop:"20px",backgroundColor:"#f8f8f8",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},formGroup:{marginBottom:"15px"},label:{display:"block",fontSize:"16px",color:"#333",marginBottom:"5px"},input:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #ccc"},button:{width:"100%",padding:"10px",fontSize:"16px",fontWeight:"bold",color:"#fff",backgroundColor:"#007bff",borderRadius:"4px",border:"none",cursor:"pointer"}};function E(e){var t=e.user,n=e.updateUser,o=Object(i.useState)(""),r=Object(c.a)(o,2),a=r[0],s=r[1],d=Object(i.useState)(""),p=Object(c.a)(d,2),u=p[0],b=p[1],j=Object(i.useState)(""),h=Object(c.a)(j,2),x=h[0],f=h[1],m=Object(i.useState)(""),O=Object(c.a)(m,2),g=O[0],y=O[1],v=Object(i.useState)(""),S=Object(c.a)(v,2),C=S[0],_=S[1],w=Object(i.useState)(""),P=Object(c.a)(w,2),R=P[0],A=P[1],F=Object(i.useState)(null),T=Object(c.a)(F,2),N=T[0],B=T[1],z=Object(i.useState)([]),D=Object(c.a)(z,2),W=D[0],G=D[1];return Object(i.useEffect)((function(){fetch("/petsitter").then((function(e){e.ok&&e.json().then((function(e){return B(e)}))}))}),[]),N?Object(l.jsxs)("div",{children:[Object(l.jsx)(k,{updatePetSitter:function(e){B(e)},petSitter:N}),Object(l.jsx)(L,{petSitter:N,user:t})]}):Object(l.jsxs)("div",{style:q.formContainer,children:[Object(l.jsxs)("form",{className:"styled-form",onSubmit:function(e){e.preventDefault(),fetch("/petsitters",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({bio:a,city:u,photo:x,day_rate:g,full_name:C,my_ideal_pet_sit:R,user_id:t.id,currently_available:!0})}).then((function(e){e.ok?e.json().then((function(e){B(e),n(e)})):e.json().then((function(e){console.log(e),G(e.errors)}))}))},children:[Object(l.jsx)("h2",{children:"Pet Sitter Form"}),Object(l.jsxs)("div",{style:q.formGroup,children:[Object(l.jsx)("label",{htmlFor:"name",style:q.label,children:"Your Full Name:"}),Object(l.jsx)("input",{type:"text",id:"bio",value:C,onChange:function(e){return _(e.target.value)},style:q.input})]}),Object(l.jsxs)("div",{style:q.formGroup,children:[Object(l.jsx)("label",{htmlFor:"name",style:q.label,children:"Bio:"}),Object(l.jsx)("textarea",{type:"text",id:"bio",value:a,onChange:function(e){return s(e.target.value)},style:q.input})]}),Object(l.jsxs)("div",{style:q.formGroup,children:[Object(l.jsx)("label",{htmlFor:"name",style:q.label,children:"My Ideal Pet Sit:"}),Object(l.jsx)("textarea",{type:"text",id:"bio",value:R,onChange:function(e){return A(e.target.value)},style:q.input})]}),Object(l.jsxs)("div",{style:q.formGroup,children:[Object(l.jsx)("label",{htmlFor:"city",style:q.label,children:"City:"}),Object(l.jsx)("input",{type:"text",id:"city",value:u,onChange:function(e){return b(e.target.value)},style:q.input})]}),Object(l.jsxs)("div",{style:q.formGroup,children:[Object(l.jsx)("label",{htmlFor:"photo",style:q.label,children:"Photo Url:"}),Object(l.jsx)("input",{type:"text",id:"photo",value:x,onChange:function(e){return f(e.target.value)},style:q.input})]}),Object(l.jsxs)("div",{style:q.formGroup,children:[Object(l.jsx)("label",{htmlFor:"dayRate",style:q.label,children:"Day Rate:"}),Object(l.jsx)("input",{type:"text",id:"dayRate",value:g,onChange:function(e){return y(e.target.value)},style:q.input})]}),Object(l.jsx)("button",{type:"submit",style:q.button,children:"Become a pet sitter!"})]}),W.length>0&&Object(l.jsx)("ul",{style:q.errorList,children:W.map((function(e){return Object(l.jsx)("li",{children:e},e)}))})]})}var M={formContainer:{marginTop:"20px",backgroundColor:"#f8f8f8",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},formGroup:{marginBottom:"15px"},label:{display:"block",fontSize:"16px",color:"#333",marginBottom:"5px"},input:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #ccc"},button:{width:"100%",padding:"10px",fontSize:"16px",fontWeight:"bold",color:"#fff",backgroundColor:"#007bff",borderRadius:"4px",border:"none",cursor:"pointer"}};function H(e){var t=e.updateClient,n=e.client,o=e.changeFormView;console.log(n);var r=Object(i.useState)(n.pet_information),a=Object(c.a)(r,2),s=a[0],d=a[1],p=Object(i.useState)(n.photo),u=Object(c.a)(p,2),b=u[0],j=u[1],h=Object(i.useState)(n.full_name),x=Object(c.a)(h,2),f=x[0],m=x[1],O=Object(i.useState)(n.ideal_petsitter),g=Object(c.a)(O,2),y=g[0],v=g[1];return Object(l.jsx)("div",{style:M.formContainer,children:Object(l.jsxs)("form",{className:"styled-form",onSubmit:function(e){e.preventDefault(),fetch("/clients/".concat(n.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({pet_information:s,photo:b,full_name:f,ideal_petsitter:y})}).then((function(e){return e.json()})).then((function(e){o(),t(e),m(e.full_name),v(e.ideal_petsitter),d(e.pet_information),j(e.photo)}))},children:[Object(l.jsx)("h2",{children:"Client Form"}),Object(l.jsxs)("div",{style:M.formGroup,children:[Object(l.jsx)("label",{style:M.label,htmlFor:"full_name",children:"Full Name:"}),Object(l.jsx)("input",{style:M.input,type:"text",id:"photo",value:f,onChange:function(e){return m(e.target.value)}})]}),Object(l.jsxs)("div",{style:M.formGroup,children:[Object(l.jsx)("label",{style:M.label,htmlFor:"pet_information",children:"Pet Information:"}),Object(l.jsx)("textarea",{style:M.input,type:"text",id:"pet_information",value:s,onChange:function(e){return d(e.target.value)}})]}),Object(l.jsxs)("div",{style:M.formGroup,children:[Object(l.jsx)("label",{style:M.label,htmlFor:"ideal_petsitter",children:"Your Ideal Pet-Sitter:"}),Object(l.jsx)("textarea",{style:M.input,type:"text",id:"ideal_petsitter",value:y,onChange:function(e){return v(e.target.value)}})]}),Object(l.jsxs)("div",{style:M.formGroup,children:[Object(l.jsx)("label",{style:M.label,htmlFor:"photo",children:"Pet Photo Url:"}),Object(l.jsx)("input",{style:M.input,type:"text",id:"photo",value:b,onChange:function(e){return j(e.target.value)}})]}),Object(l.jsx)("button",{type:"submit",children:"Update Account"})]})})}var Y={clientProfile:{backgroundColor:"#f8f8f8",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",maxWidth:"400px",margin:"0 auto",textAlign:"center"},imageWrapper:{width:"150px",height:"150px",margin:"0 auto 20px",borderRadius:"50%",overflow:"hidden",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"},heading:{fontSize:"24px",margin:"0",color:"#333"},info:{fontSize:"16px",color:"#666",margin:"10px 0"}};function J(e){var t=e.client,n=e.updateClient,o=Object(i.useState)(!1),r=Object(c.a)(o,2),a=r[0],s=r[1],d=Object(i.useState)("Update Account"),p=Object(c.a)(d,2),u=p[0],b=p[1];function j(){s(!a),b("Update Account"===u?"Close Update Form":"Update Account")}return Object(l.jsxs)("div",{id:"clientProfile",style:Y.clientProfile,children:[Object(l.jsx)("div",{style:Y.imageWrapper,children:Object(l.jsx)("img",{src:t.photo,alt:"the client",style:Y.image})}),Object(l.jsx)("h2",{style:Y.heading,children:"Your client account:"}),Object(l.jsxs)("p",{style:Y.info,children:[Object(l.jsx)("b",{children:"My Name:"})," ",t.full_name,", NYC"]}),Object(l.jsxs)("p",{style:Y.info,children:[Object(l.jsx)("b",{children:"About my pet:"})," ",t.pet_information]}),Object(l.jsxs)("p",{style:Y.info,children:[Object(l.jsx)("b",{children:"Ideal petsitter:"})," ",t.ideal_petsitter]}),Object(l.jsx)("button",{onClick:function(){return j()},children:u}),!0===a&&Object(l.jsx)(H,{client:t,updateClient:n,changeFormView:j})]})}var V={textAlign:"center",fontFamily:"Arial, Helvetica, sans-serif",color:"#9e9e9e",width:"100%",fontSize:"36px",lineHeight:"1.2"};function $(e){var t=e.client,n=e.user,o=e.newRequestFromClientPage,r=Object(i.useState)([]),a=Object(c.a)(r,2),s=a[0],d=a[1];return Object(i.useEffect)((function(){if(t.petsitters){var e=Object(T.a)(new Map(t.petsitters.map((function(e){return[e.id,e]}))).values());d(e)}}),[t.petsitters]),Object(l.jsx)("div",{children:s.length>0&&Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{style:V,children:"Previous Pet Sitters:"}),s.map((function(e){return Object(l.jsx)(_,{newRequestFromClientPage:o,petSitter:e,user:n},e.id)}))]})})}var K={paddingTop:"20px",textAlign:"center",fontFamily:"Arial, Helvetica, sans-serif",color:"#9e9e9e",width:"100%",fontSize:"36px",lineHeight:"1.2"};function Q(e){var t=e.updateClient,n=e.client,o=e.user,r=Object(i.useState)([]),a=Object(c.a)(r,2),s=a[0],d=a[1],p=Object(i.useState)([]),u=Object(c.a)(p,2),b=u[0],j=u[1],h=Object(i.useState)([]),x=Object(c.a)(h,2),f=x[0],m=x[1];function O(e){if(!0===e.accepted){var t=b.filter((function(t){return t.id!==e.id}));j(t);var n=[].concat(Object(T.a)(f),[e]);m(n)}else if(!0===e.declined){var i=b.filter((function(t){return t.id!==e.id}));j(i)}else{var o=b.map((function(t){return t.id===e.id?Object(N.a)(Object(N.a)({},t),e):t}));j(o)}var r=s.map((function(t){return t.id===e.id?Object(N.a)(Object(N.a)({},t),e):t}));d(r)}function g(e){var t=f.filter((function(t){return t.id!==e.id}));m(t);var n=s.map((function(t){return t.id===e.id?Object(N.a)(Object(N.a)({},t),e):t}));d(n)}function y(e){var t=[].concat(Object(T.a)(b),[e]);j(t)}function v(e,n){var i=b.filter((function(t){return t.id!==e}));j(i),t(n)}return Object(i.useEffect)((function(){fetch("/appointments").then((function(e){e.ok&&e.json().then((function(e){d(e);var t=e.filter((function(e){return e.client_id===o.client.id&&!0!==e.accepted&&!0!==e.declined&&!0!==e.canceled})),n=e.filter((function(e){return e.client_id===o.client.id&&!0===e.accepted&&!0!==e.completed&&!0!==e.canceled}));j(t),m(n)}))}))}),[n,o]),b.length>0||f.length>0?Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{style:K,children:"Active Appointments / Requests:"}),f.map((function(e){return Object(l.jsx)(I,{user:o,client:n,updateActiveAppointments:g,appointment:e},e.id)})),b.map((function(e){return Object(l.jsx)(W,{deleteAppointmentRequest:v,user:o,client:n,updatePendingAppointments:O,appointment:e},e.id)})),Object(l.jsx)($,{newRequestFromClientPage:y,client:n,user:o})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)("h2",{style:K,children:"No pending requests / active pet sits"}),Object(l.jsx)($,{newRequestFromClientPage:y,client:n,user:o})]})}var X={formContainer:{marginTop:"20px",backgroundColor:"#f8f8f8",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},formGroup:{marginBottom:"15px"},label:{display:"block",fontSize:"16px",color:"#333",marginBottom:"5px"},input:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #ccc"},button:{width:"100%",padding:"10px",fontSize:"16px",fontWeight:"bold",color:"#fff",backgroundColor:"#007bff",borderRadius:"4px",border:"none",cursor:"pointer"}};function Z(e){var t=e.user,n=e.updateUser,o=Object(i.useState)(""),r=Object(c.a)(o,2),a=r[0],s=r[1],d=Object(i.useState)(""),p=Object(c.a)(d,2),u=p[0],b=p[1],j=Object(i.useState)(""),h=Object(c.a)(j,2),x=h[0],f=h[1],m=Object(i.useState)(""),O=Object(c.a)(m,2),g=O[0],y=O[1],v=Object(i.useState)(null),S=Object(c.a)(v,2),C=S[0],_=S[1];function w(e){_(e)}return Object(i.useEffect)((function(){fetch("/client").then((function(e){e.ok&&e.json().then((function(e){return _(e)}))}))}),[]),C?Object(l.jsxs)("div",{children:[Object(l.jsx)(J,{updateClient:w,client:C}),Object(l.jsx)(Q,{updateClient:w,client:C,user:t})]}):Object(l.jsx)("div",{style:X.formContainer,children:Object(l.jsxs)("form",{className:"styled-form",onSubmit:function(e){e.preventDefault(),fetch("/clients",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pet_information:a,full_name:x,photo:u,ideal_petsitter:g,user_id:t.id,currently_available:!0})}).then((function(e){e.ok&&e.json().then((function(e){_(e),n(e)}))}))},children:[Object(l.jsx)("h2",{children:"Client Form"}),Object(l.jsxs)("div",{style:X.formGroup,children:[Object(l.jsx)("label",{style:X.label,htmlFor:"full_name",children:"Full Name:"}),Object(l.jsx)("input",{style:X.input,type:"text",id:"photo",value:x,onChange:function(e){return f(e.target.value)}})]}),Object(l.jsxs)("div",{style:X.formGroup,children:[Object(l.jsx)("label",{style:X.label,htmlFor:"pet_information",children:"Pet Information:"}),Object(l.jsx)("textarea",{style:X.input,type:"text",id:"pet_information",value:a,onChange:function(e){return s(e.target.value)}})]}),Object(l.jsxs)("div",{style:X.formGroup,children:[Object(l.jsx)("label",{style:X.label,htmlFor:"ideal_petsitter",children:"Your Ideal Pet-Sitter:"}),Object(l.jsx)("textarea",{style:X.input,type:"text",id:"ideal_petsitter",value:g,onChange:function(e){return y(e.target.value)}})]}),Object(l.jsxs)("div",{style:X.formGroup,children:[Object(l.jsx)("label",{style:X.label,htmlFor:"photo",children:"Pet Photo Url:"}),Object(l.jsx)("input",{style:X.input,type:"text",id:"photo",value:u,onChange:function(e){return b(e.target.value)}})]}),Object(l.jsx)("button",{style:X.button,type:"submit",children:"Create client account"})]})})}var ee={conversationCard:{display:"flex",alignItems:"center",border:"1px solid #ccc",borderRadius:"8px",padding:"10px",marginBottom:"20px"},userContainer:{display:"flex",flexDirection:"column",alignItems:"center",flex:"1"},userPhoto:{width:"60px",height:"60px",borderRadius:"50%"},userName:{marginTop:"5px",fontWeight:"bold",fontSize:"14px"},chatStartedText:{fontSize:"12px",textAlign:"center",marginTop:"5px",color:"#999"},openConversationButton:{backgroundColor:"blue",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"14px",width:"120px",marginTop:"10px"},conversationTitle:{textAlign:"center",fontSize:"16px",fontWeight:"bold",marginBottom:"10px"}};function te(e){var t=e.conversation,n=e.updateConvoButton,i=t.petsitter,o=t.client,r=t.created_at,a=new Date(r),c=a.getUTCFullYear(),s=String(a.getUTCMonth()+1).padStart(2,"0"),d=String(a.getUTCDate()).padStart(2,"0");return Object(l.jsxs)("div",{style:ee.conversationCard,children:[Object(l.jsxs)("div",{style:ee.userContainer,children:[Object(l.jsx)("img",{src:o.photo,alt:"Client",style:ee.userPhoto}),Object(l.jsx)("p",{style:ee.userName,children:o.full_name})]}),Object(l.jsxs)("div",{style:ee.userContainer,children:[Object(l.jsx)("p",{style:ee.conversationTitle,children:t.conversation_title}),Object(l.jsxs)("p",{style:ee.chatStartedText,children:["Chat started on ",c,"-",s,"-",d]}),Object(l.jsx)("button",{onClick:function(){n(t.id)},style:ee.openConversationButton,children:"Open Conversation"})]}),Object(l.jsxs)("div",{style:ee.userContainer,children:[Object(l.jsx)("img",{src:i.photo,alt:"Petsitter",style:ee.userPhoto}),Object(l.jsx)("p",{style:ee.userName,children:i.full_name})]})]})}var ne={backgroundColor:"#f2f7ff",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",padding:"16px",marginBottom:"5px",borderRadius:"8px",width:"90%",maxWidth:"600px",margin:"0 auto",border:"2px solid #007bff",fontFamily:"Arial, sans-serif",lineHeight:"1.6",display:"flex",flexDirection:"column"},ie={fontSize:"24px",fontWeight:"bold",marginBottom:"8px",marginTop:"2px"},oe={fontSize:"14px",color:"#888",marginBottom:"6px"},re={fontSize:"18px",color:"#333",marginBottom:"10px"};function ae(e){var t=e.message;var n=function(e){var t=new Date(e),n=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0");return{date:"".concat(n,"-").concat(i,"-").concat(o),time:"".concat(r,":").concat(a)}}(t.created_at),i=n.date,o=n.time;return Object(l.jsxs)("div",{style:ne,children:[Object(l.jsxs)("p",{style:ie,children:["Message from: ",t.user.username]}),Object(l.jsxs)("p",{style:oe,children:[i,", ",o]}),Object(l.jsx)("p",{style:re,children:t.body})]})}var ce={formContainer:{marginTop:"20px",backgroundColor:"#f8f8f8",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},formGroup:{marginBottom:"15px"},label:{display:"block",fontSize:"16px",color:"#333",marginBottom:"5px"},input:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #ccc"},select:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"#fff"},button:{width:"100%",padding:"10px",fontSize:"16px",fontWeight:"bold",color:"#fff",backgroundColor:"#007bff",borderRadius:"4px",border:"none",cursor:"pointer"},errorList:{color:"red",marginTop:"10px",textAlign:"left",paddingLeft:"20px"}};function se(e){var t=e.updateMessages,n=e.user,o=e.currentConvoId,r=e.updateConvoButton,a=e.scrollToBottom,s=Object(i.useState)(""),d=Object(c.a)(s,2),p=d[0],u=d[1],b=Object(i.useState)([]),j=Object(c.a)(b,2),h=j[0],x=j[1];return a(),Object(l.jsxs)("div",{style:ce.formContainer,children:[Object(l.jsx)("h2",{children:"New message:"}),Object(l.jsxs)("form",{className:"custom-form",onSubmit:function(e){e.preventDefault(),fetch("/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:n.id,conversation_id:o,body:p})}).then((function(e){e.ok?e.json().then((function(e){u(""),t(e),a()})):e.json().then((function(e){x(e.errors),console.log(h)}))}))},children:[Object(l.jsxs)("div",{style:ce.formGroup,children:[Object(l.jsx)("label",{htmlFor:"appointment_information",style:ce.label,children:"Message Content:"}),Object(l.jsx)("textarea",{type:"text",className:"custom-input",value:p,onChange:function(e){return u(e.target.value)},style:ce.input})]}),Object(l.jsx)("button",{children:"Send Message"})]}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{onClick:r,children:"Exit Conversation"})]})}function le(e){var t=e.currentConvoId,n=e.user,i=e.updateMessages,o=e.messages,r=e.scrollToBottom,a=e.updateConvoButton;return o.length>0?Object(l.jsxs)("div",{children:[o.map((function(e){return Object(l.jsx)(ae,{message:e},e.id)})),Object(l.jsx)(se,{updateConvoButton:a,scrollToBottom:r,currentConvoId:t,updateMessages:i,user:n})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)("h4",{style:{textAlign:"center"},children:"There are currently no messages in this conversation, send one to start it out!"}),Object(l.jsx)(se,{updateConvoButton:a,scrollToBottom:r,currentConvoId:t,updateMessages:i,user:n})]})}var de={petSitterCard:{backgroundColor:"#f8f8f8",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",maxWidth:"300px",margin:"10px auto",textAlign:"center"},imageWrapper:{width:"100px",height:"100px",margin:"0 auto 10px",borderRadius:"50%",overflow:"hidden",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"},heading:{fontSize:"20px",margin:"0",color:"#333"},subheading:{fontSize:"16px",margin:"5px 0",color:"#666"},info:{fontSize:"14px",color:"#666",margin:"5px 0"},button:{fontSize:"14px",padding:"8px 16px",backgroundColor:"#007bff",color:"#fff",border:"none",borderRadius:"5px",cursor:"pointer",marginTop:"10px"}};function pe(e){var t=e.petSitter;return Object(l.jsxs)("div",{className:"petSitterCardDiv",style:de.petSitterCard,children:[Object(l.jsx)("div",{style:de.imageWrapper,children:Object(l.jsx)("img",{src:t.photo,alt:"the petsitter",style:de.image})}),Object(l.jsx)("h3",{style:de.heading,children:t.full_name}),Object(l.jsx)("h4",{style:de.subheading,children:"About me:"}),Object(l.jsxs)("p",{style:de.info,children:["I am based in ",t.city,", NYC"]}),Object(l.jsx)("p",{style:de.info,children:t.bio}),Object(l.jsx)("h4",{style:de.subheading,children:"My ideal pet sit:"}),Object(l.jsx)("p",{style:de.info,children:t.my_ideal_pet_sit}),Object(l.jsx)("h4",{style:de.subheading,children:"What do I charge?"}),Object(l.jsxs)("p",{style:de.info,children:["My rate is currently $",t.day_rate]})]})}var ue={clientProfile:{backgroundColor:"#f8f8f8",padding:"20px",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",maxWidth:"300px",margin:"10px auto",textAlign:"center"},imageWrapper:{width:"100px",height:"100px",margin:"0 auto 10px",borderRadius:"50%",overflow:"hidden",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)"},image:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"},heading:{fontSize:"20px",margin:"0",color:"#333"},info:{fontSize:"14px",color:"#666",margin:"5px 0"},label:{display:"block",fontSize:"16px",color:"#333",marginBottom:"5px"},input:{width:"100%",padding:"8px",fontSize:"16px",borderRadius:"4px",border:"1px solid #ccc"}};function be(e){var t=e.conversation,n=e.removeConversation,o=e.client,r=e.scrollToBottom,a=e.updateConversations,s=Object(i.useState)(t.conversation_title),d=Object(c.a)(s,2),p=d[0],u=d[1];return Object(l.jsxs)("div",{id:"clientProfile",style:ue.clientProfile,children:[Object(l.jsx)("div",{style:ue.imageWrapper,children:Object(l.jsx)("img",{src:o.photo,alt:"the client",style:ue.image})}),Object(l.jsx)("h3",{style:ue.heading,children:o.full_name}),Object(l.jsxs)("p",{style:ue.info,children:[Object(l.jsx)("b",{children:"About my pet:"})," ",o.pet_information]}),Object(l.jsxs)("p",{style:ue.info,children:[Object(l.jsx)("b",{children:"Ideal petsitter:"})," ",o.ideal_petsitter]}),Object(l.jsx)("button",{className:"declineButton",onClick:function(){!0===window.confirm("Are you sure? Messages from this conversation will not be able to be viewed by either user.")&&fetch("/conversations/".concat(t.id),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return n(e)}))},children:"Delete conversation."}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{className:"acceptButton",onClick:r,children:"Go to end of chat."}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/conversations/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({conversation_title:p})}).then((function(e){return e.json()})).then((function(e){return a(e)}))},children:[Object(l.jsx)("button",{className:"acceptButton",children:"Update conversation title"}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{style:ue.label,htmlFor:"convoTitle",children:"New Conversation Title:"}),Object(l.jsx)("input",{style:ue.input,className:"convoTitle",type:"text",value:p,onChange:function(e){return u(e.target.value)}})]})]})}var je={textAlign:"center",fontFamily:"Arial, Helvetica, sans-serif",color:"#9e9e9e",width:"100%",fontSize:"36px",lineHeight:"1.2"};function he(e){var t=e.user,n=Object(i.useState)([]),o=Object(c.a)(n,2),r=o[0],a=o[1],s=Object(i.useState)(!1),d=Object(c.a)(s,2),p=d[0],u=d[1],b=Object(i.useState)(null),j=Object(c.a)(b,2),h=j[0],x=j[1],f=Object(i.useState)([]),m=Object(c.a)(f,2),O=m[0],g=m[1],y=Object(i.useState)([]),v=Object(c.a)(y,2),S=v[0],C=v[1],_=Object(i.useRef)(null);function w(){var e;null===_||void 0===_||null===(e=_.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}function P(e){!1===p?(u(!0),x(e),w()):(u(!1),x(null),w())}function R(e){var t=r.filter((function(t){return t.id!==e.id}));a(t),x(null),u(!1)}function A(e){var n=r.filter((function(t){return t.id!==e.id})),i=[].concat(Object(T.a)(n),[e]);a(i);var o="Automated message: ".concat(t.username,' just changed the conversation title to "').concat(e.conversation_title,'"');fetch("/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t.id,conversation_id:h,body:o})}).then((function(e){e.ok?e.json().then((function(e){F(e),w()})):e.json().then((function(e){C(e.errors),console.log(S)}))}))}function F(e){var t=[].concat(Object(T.a)(O),[e]);g(t)}return Object(i.useEffect)((function(){fetch("/conversations").then((function(e){e.ok?e.json().then((function(e){if(a(e),console.log(e),t.client&&t.petsitter){var n=e.filter((function(e){return e.petsitter_id===t.petsitter.id||e.client_id===t.client.id}));a(n)}else if(t.client){var i=e.filter((function(e){return e.client_id===t.client.id}));a(i)}else{var o=e.filter((function(e){return e.petsitter_id===t.petsitter.id}));a(o)}w()})):e.json().then((function(e){console.log(e)}))}))}),[t]),Object(i.useEffect)((function(){return[fetch("/messages").then((function(e){return e.json()})).then((function(e){var t=e.filter((function(e){return e.conversation_id===h}));g(t)}))]}),[h]),r.length>0?Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:r.map((function(e){return Object(l.jsxs)("div",{children:[!1===p&&Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{style:{textAlign:"center"},children:"Open conversations:"}),Object(l.jsx)(te,{updateConvoButton:P,conversation:e,user:t},e.id)]}),h===e.id&&Object(l.jsxs)("div",{children:[Object(l.jsxs)("h3",{style:{textAlign:"center"},children:['Conversation "',e.conversation_title,'" between:']}),Object(l.jsx)(pe,{scrollToBottom:w,petSitter:e.petsitter}),Object(l.jsx)(be,{updateConversations:A,conversation:e,removeConversation:R,scrollToBottom:w,client:e.client}),Object(l.jsx)("h3",{style:{textAlign:"center"},children:"Messages:"}),Object(l.jsx)(le,{updateMessages:F,messages:O,scrollToBottom:w,updateConvoButton:P,currentConvoId:h,user:t})]})]},e.id)}))}),Object(l.jsx)("div",{ref:_})]}):Object(l.jsx)("div",{style:je,children:"No conversations yet - if you're a client, feel free to start one! Petsitters, clients will reach out when they need help."})}var xe={textAlign:"center",fontFamily:"Arial, Helvetica, sans-serif",color:"#9e9e9e",width:"100%",fontSize:"36px",lineHeight:"1.2"};var fe=function(){var e=Object(i.useState)(null),t=Object(c.a)(e,2),n=t[0],o=t[1];function r(){fetch("/logout",{method:"DELETE"}).then(o(null))}return Object(i.useEffect)((function(){fetch("/me").then((function(e){e.ok&&e.json().then((function(e){return o(e)}))}))}),[]),n?Object(l.jsxs)("div",{style:{paddingBottom:"20px"},children:[Object(l.jsx)(h,{}),Object(l.jsx)("h1",{style:xe,children:"NYCPetSitters"}),Object(l.jsxs)(s.c,{children:[Object(l.jsx)(s.a,{path:"/",element:Object(l.jsx)(O,{user:n,setUser:o})}),Object(l.jsx)(s.a,{path:"/petsitter",element:Object(l.jsx)(E,{updateUser:function(e){var t=n;t.petsitter=e,o(t)},user:n,setUser:o,handleLogout:r})}),Object(l.jsx)(s.a,{path:"/client",element:Object(l.jsx)(Z,{updateUser:function(e){var t=n;t.client=e,o(t)},user:n,setUser:o,handleLogout:r})}),Object(l.jsx)(s.a,{path:"/petsitters",element:Object(l.jsx)(P,{user:n,handleLogout:r})}),Object(l.jsx)(s.a,{path:"/conversations",element:Object(l.jsx)(he,{user:n,handleLogout:r})})]}),Object(l.jsxs)("div",{style:{marginTop:"20px"},children:[" ",Object(l.jsx)("button",{style:{position:"fixed",bottom:"0",right:"0px",marginTop:"2%"},onClick:r,children:"Logout"})]})]}):Object(l.jsxs)("div",{id:"notLoggedInHome",children:[Object(l.jsx)("h1",{style:xe,children:"NYC Pet Sitters"}),Object(l.jsx)(b,{onLogin:o}),Object(l.jsx)(p,{onLogin:o})]})},me=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,34)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),o(e),r(e),a(e)}))};a.a.render(Object(l.jsx)(o.a.StrictMode,{children:Object(l.jsx)(j.a,{children:Object(l.jsx)(fe,{})})}),document.getElementById("root")),me()}},[[33,1,2]]]);
//# sourceMappingURL=main.6fac40ed.chunk.js.map